/*
 * jQuery UI Popup 1.9m5
 *
 * Copyright 2011, AUTHORS.txt (http://jqueryui.com/about)
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * http://docs.jquery.com/UI/Popup
 *
 * Depends:
 *	jquery.ui.core.js
 *	jquery.ui.widget.js
 *	jquery.ui.position.js
 */
(function(b){var d=0;b.widget("ui.popup",{options:{position:{my:"left top",at:"left bottom"}},_create:function(){if(!this.options.trigger)this.options.trigger=this.element.prev();if(!this.element.attr("id")){this.element.attr("id","ui-popup-"+d++);this.generatedId=true}if(!this.element.attr("role")){this.element.attr("role","tooltip");this.generatedRole=true}this.options.trigger.attr("aria-haspopup",true).attr("aria-owns",this.element.attr("id"));this.element.addClass("ui-popup");this.close();this._bind(this.options.trigger,
{keydown:function(a){this.options.trigger.is("a:ui-button")&&a.keyCode==b.ui.keyCode.SPACE&&a.preventDefault();a.keyCode==b.ui.keyCode.SPACE&&this.options.trigger.is("a:not(:ui-button)")&&this.options.trigger.trigger("click",a);if(a.keyCode==b.ui.keyCode.DOWN){a.preventDefault();this.options.trigger.trigger("click",a)}},click:function(a){a.preventDefault();if(!this.isOpen){var c=this;clearTimeout(this.closeTimer);setTimeout(function(){c.open(a)},1)}}});this._bind(this.element,{blur:function(a){var c=
this;c.closeTimer=setTimeout(function(){c.close(a)},100)}});this._bind({keyup:function(a){if(a.keyCode==b.ui.keyCode.ESCAPE&&this.element.is(":visible")){this.close(a);this.options.trigger.focus()}}});this._bind(document,{click:function(a){this.isOpen&&!b(a.target).closest(".ui-popup").length&&this.close(a)}})},_destroy:function(){this.element.show().removeClass("ui-popup").removeAttr("aria-hidden").removeAttr("aria-expanded");this.options.trigger.removeAttr("aria-haspopup").removeAttr("aria-owns");
this.generatedId&&this.element.removeAttr("id");this.generatedRole&&this.element.removeAttr("role")},open:function(a){var c=b.extend({},{of:this.options.trigger},this.options.position);this.element.show().attr("aria-hidden",false).attr("aria-expanded",true).position(c).focus();this.element.is(":ui-menu")&&this.element.menu("focus",a,this.element.children("li").first());this.options.trigger.attr("tabindex",-1);this.isOpen=true;this._trigger("open",a)},close:function(a){this.element.hide().attr("aria-hidden",
true).attr("aria-expanded",false);this.options.trigger.attr("tabindex",0);this.isOpen=false;this._trigger("close",a)}})})(jQuery);
